[pytest]
# =============================================================
# RetailNova - pytest configuration
# =============================================================
# Tests run in LOCAL Spark mode (local[*]) — no Docker cluster needed.
# Set via SPARK_MASTER env var in test fixtures.
#
# Run:  pytest tests/test_pipeline.py -v
# Or:   make test
# =============================================================

testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Output
addopts =
    -v
    --tb=short
    --no-header
    --color=yes

# Don't fail on warnings from PySpark / Delta
filterwarnings =
    ignore::DeprecationWarning
    ignore::UserWarning
    ignore::FutureWarning

# Timeout per test (seconds) — Spark local mode starts fast
timeout = 120

# Minimum version
minversion = 8.0
